---
title: In Development Release Notes
description: Preview of upcoming features and changes in the next SaaS Pegasus release.
---
import { Aside } from '@astrojs/starlight/components';

<Aside type="caution" title="In Development">
These release notes are for a version that is still in development and has not been released yet.
Features and changes may be modified before the final release.
To try these features early, see the [Early Access Program](/early-access/).
</Aside>

*The development release notes are generated automatically by AI and may contain errors.*

---

## Version 2026.2.1

This release removes the `litellm` dependency and unifies all AI calls through Pydantic AI, simplifies the chat architecture by consolidating agent and chat sessions into a single unified model, and includes JavaScript and Python package upgrades.

### Pydantic AI Migration

All AI calls now go through [Pydantic AI](https://ai.pydantic.dev/) instead of using a mix of LiteLLM and Pydantic AI:

- **Removed the `litellm` dependency.** All chat and agent interactions now use Pydantic AI exclusively.
- **Replaced `DEFAULT_LLM_MODEL` and `DEFAULT_AGENT_MODEL` settings with a single `DEFAULT_AI_MODEL` setting.**
  The new setting uses Pydantic AI's model format (e.g. `openai:gpt-4o`, `anthropic:claude-sonnet-4-5-20250929`).
  - The `LLM_MODELS` dictionary has also been removed in favor of Pydantic AI's built-in model configuration.
  - API keys are now read directly from standard environment variables (`OPENAI_API_KEY`, `ANTHROPIC_API_KEY`, etc.)
    instead of being configured per-model.
- **Simplified chat naming** to use a lightweight Pydantic AI agent instead of direct LiteLLM calls.

See the upgrading section below for migration details.

### Unified Chat Architecture

The chat system has been simplified by removing the distinction between "chat" and "agent" session types:

- **Merged `ChatSession` and `AgentSession` into a single `ChatSession` class.** All chats now go through the agent systemâ€”simple chats just use an agent with no tools.
- **Removed the `ChatTypes` model** (`chat`/`agent` distinction). Chats are now identified solely by their `agent_type` field (e.g. `chat`, `weather`, `admin`, `employees`).
  - Added migrations to populate the `agent_type` field for existing chats and remove the `chat_type` column.
- **Consolidated WebSocket routing.** Instead of separate WebSocket endpoints per agent type (e.g. `/ws/weatheragent/`, `/ws/adminagent/`), all chats now use the existing `/ws/aichat/` endpoint with an `agent_type` query parameter.
- **Removed per-agent consumer classes** (`WeatherAgentChatConsumer`, `AdminAgentChatConsumer`, `EmployeesAgentChatConsumer`) in favor of the unified `ChatConsumer`.
- Removed the `chat/utils.py` module (`get_llm_kwargs` and `UnknownModelError`) which is no longer needed.

### Other Changes

- **Upgraded all JavaScript packages** including Flowbite to 4.x, Font Awesome to 7.x, React to 19.2.4, and Vue to 3.5.27.
- **Upgraded all Python packages**, with `dj-stripe` pinned to 2.9.1 to avoid migration issues.
- **Fixed the Flowbite datepicker's transparent background** by adding minimum theme variables needed for Flowbite 4.x compatibility.
- **Added `types-requests` as an explicit mypy dev dependency.**
- **Fixed the MCP agent tool to use `psycopg2-binary`** instead of `psycopg[binary]` for the database connection.
- **Added Claude Code skills for upgrading JavaScript and Python dependencies** to generated projects.

### Upgrading

- **Update your environment variables:**
  - Replace `DEFAULT_LLM_MODEL` and `DEFAULT_AGENT_MODEL` with `DEFAULT_AI_MODEL`.
    The new format is `provider:model_name` (e.g. `openai:gpt-4o`). See the [Pydantic AI model docs](https://ai.pydantic.dev/models/overview/) for available models.
  - Remove the `LLM_MODELS` dictionary from your settings if you had customized it.
- **Run migrations** to update the chat model (populates `agent_type` and removes `chat_type`).
- If you had custom WebSocket routes for agent types, update them to use the unified `/ws/aichat/` endpoint with `?agent_type=<type>` query parameter.
- You can remove `litellm` from your dependencies.

*February 6, 2026*
